{"ast":null,"code":"import{useEffect,useState}from\"react\";import Suggestions from\"./suggestions\";import QRCode from\"react-qr-code\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchAutoComplete(){const[qrCode,setQrCode]=useState(\"\");const[click,setClick]=useState(false);const[loading,setLoading]=useState(false);const[users,setUsers]=useState([]);const[error,setError]=useState(null);const[searchParam,setSearchParam]=useState(\"\");const[showDropdown,setShowDropdown]=useState(false);const[filteredUsers,setFilteredUsers]=useState([]);function handleClick(event){setSearchParam(event.target.innerText);setShowDropdown(false);setFilteredUsers([]);}function handleGenerateQrCode(){setQrCode(searchParam);setClick(true);setShowDropdown(false);}function filter(event){const query=event.target.value.toLowerCase();setSearchParam(query);if(query.length>1){const filteredData=users&&users.length?users.filter(item=>item.toLowerCase().indexOf(query)>-1):[];setFilteredUsers(filteredData);setShowDropdown(true);}else{setShowDropdown(false);}}async function fetchListOfUsers(){try{setLoading(true);const response=await fetch(\"http://dummyjson.com/users\");const data=await response.json();if(data&&data.users&&data.users.length){setLoading(false);setUsers(data.users.map(userItem=>userItem.firstName));setError(null);}}catch(error){setLoading(false);console.log(error);setError(error);}}useEffect(()=>{fetchListOfUsers();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading please wait!!\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"QR Code Generator\"}),/*#__PURE__*/_jsx(\"input\",{name:\"search-users\",placeholder:\"Search users here...\",value:searchParam,onChange:filter}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateQrCode,disabled:searchParam.length!==0?false:true,children:\"Generate\"})]}),showDropdown&&/*#__PURE__*/_jsx(Suggestions,{handleClick:handleClick,data:filteredUsers}),/*#__PURE__*/_jsx(\"br\",{}),click&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(QRCode,{id:\"qr-code-value\",value:qrCode,size:200,bgColor:\"grey\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setClick(false);setSearchParam(\"\");setShowDropdown(false);},children:\"Reset\"})]})]});}","map":{"version":3,"names":["useEffect","useState","Suggestions","QRCode","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SearchAutoComplete","qrCode","setQrCode","click","setClick","loading","setLoading","users","setUsers","error","setError","searchParam","setSearchParam","showDropdown","setShowDropdown","filteredUsers","setFilteredUsers","handleClick","event","target","innerText","handleGenerateQrCode","filter","query","value","toLowerCase","length","filteredData","item","indexOf","fetchListOfUsers","response","fetch","data","json","map","userItem","firstName","console","log","children","name","placeholder","onChange","onClick","disabled","id","size","bgColor"],"sources":["C:/Users/VINEETH/Desktop/youtreactport/my-app/src/components/search-auto-complete/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Suggestions from \"./suggestions\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nexport default function SearchAutoComplete() {\r\n  const [qrCode, setQrCode] = useState(\"\");\r\n  const [click, setClick] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n\r\n  function handleClick(event) {\r\n    setSearchParam(event.target.innerText);\r\n    setShowDropdown(false);\r\n    setFilteredUsers([]);\r\n  }\r\n\r\n  function handleGenerateQrCode() {\r\n    setQrCode(searchParam);\r\n    setClick(true);\r\n    setShowDropdown(false);\r\n  }\r\n\r\n  function filter(event) {\r\n    const query = event.target.value.toLowerCase();\r\n    setSearchParam(query);\r\n    if (query.length > 1) {\r\n      const filteredData =\r\n        users && users.length\r\n          ? users.filter((item) => item.toLowerCase().indexOf(query) > -1)\r\n          : [];\r\n      setFilteredUsers(filteredData);\r\n      setShowDropdown(true);\r\n    } else {\r\n      setShowDropdown(false);\r\n    }\r\n  }\r\n\r\n  async function fetchListOfUsers() {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(\"http://dummyjson.com/users\");\r\n      const data = await response.json();\r\n      if (data && data.users && data.users.length) {\r\n        setLoading(false);\r\n        setUsers(data.users.map((userItem) => userItem.firstName));\r\n        setError(null);\r\n      }\r\n    } catch (error) {\r\n      setLoading(false);\r\n      console.log(error);\r\n      setError(error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchListOfUsers();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <h1>Loading please wait!!</h1>\r\n      ) : (\r\n        <>\r\n          <h1>QR Code Generator</h1>\r\n          <input\r\n            name=\"search-users\"\r\n            placeholder=\"Search users here...\"\r\n            value={searchParam}\r\n            onChange={filter}\r\n          />\r\n          <button\r\n            onClick={handleGenerateQrCode}\r\n            disabled={searchParam.length !== 0 ? false : true}\r\n          >\r\n            Generate\r\n          </button>\r\n        </>\r\n      )}\r\n      {showDropdown && (\r\n        <Suggestions handleClick={handleClick} data={filteredUsers}/>\r\n      )}\r\n      <br />\r\n      {click && (\r\n        <>\r\n          <QRCode id=\"qr-code-value\" value={qrCode} size={200} bgColor=\"grey\" />\r\n          <br />\r\n          <button\r\n            onClick={() => {\r\n              setClick(false);\r\n              setSearchParam(\"\");\r\n              setShowDropdown(false);\r\n            }}\r\n          >\r\n            Reset\r\n          </button>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,MAAM,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,cAAe,SAAS,CAAAC,kBAAkBA,CAAA,CAAG,CAC3C,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACzC,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACoB,WAAW,CAAEC,cAAc,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACsB,YAAY,CAAEC,eAAe,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACwB,aAAa,CAAEC,gBAAgB,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAEtD,QAAS,CAAA0B,WAAWA,CAACC,KAAK,CAAE,CAC1BN,cAAc,CAACM,KAAK,CAACC,MAAM,CAACC,SAAS,CAAC,CACtCN,eAAe,CAAC,KAAK,CAAC,CACtBE,gBAAgB,CAAC,EAAE,CAAC,CACtB,CAEA,QAAS,CAAAK,oBAAoBA,CAAA,CAAG,CAC9BnB,SAAS,CAACS,WAAW,CAAC,CACtBP,QAAQ,CAAC,IAAI,CAAC,CACdU,eAAe,CAAC,KAAK,CAAC,CACxB,CAEA,QAAS,CAAAQ,MAAMA,CAACJ,KAAK,CAAE,CACrB,KAAM,CAAAK,KAAK,CAAGL,KAAK,CAACC,MAAM,CAACK,KAAK,CAACC,WAAW,CAAC,CAAC,CAC9Cb,cAAc,CAACW,KAAK,CAAC,CACrB,GAAIA,KAAK,CAACG,MAAM,CAAG,CAAC,CAAE,CACpB,KAAM,CAAAC,YAAY,CAChBpB,KAAK,EAAIA,KAAK,CAACmB,MAAM,CACjBnB,KAAK,CAACe,MAAM,CAAEM,IAAI,EAAKA,IAAI,CAACH,WAAW,CAAC,CAAC,CAACI,OAAO,CAACN,KAAK,CAAC,CAAG,CAAC,CAAC,CAAC,CAC9D,EAAE,CACRP,gBAAgB,CAACW,YAAY,CAAC,CAC9Bb,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,IAAM,CACLA,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAEA,cAAe,CAAAgB,gBAAgBA,CAAA,CAAG,CAChC,GAAI,CACFxB,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAyB,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,4BAA4B,CAAC,CAC1D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClC,GAAID,IAAI,EAAIA,IAAI,CAAC1B,KAAK,EAAI0B,IAAI,CAAC1B,KAAK,CAACmB,MAAM,CAAE,CAC3CpB,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAACyB,IAAI,CAAC1B,KAAK,CAAC4B,GAAG,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,SAAS,CAAC,CAAC,CAC1D3B,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CAAE,MAAOD,KAAK,CAAE,CACdH,UAAU,CAAC,KAAK,CAAC,CACjBgC,OAAO,CAACC,GAAG,CAAC9B,KAAK,CAAC,CAClBC,QAAQ,CAACD,KAAK,CAAC,CACjB,CACF,CAEAnB,SAAS,CAAC,IAAM,CACdwC,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE/B,KAAA,CAAAF,SAAA,EAAA2C,QAAA,EACGnC,OAAO,cACNV,IAAA,OAAA6C,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAE9BzC,KAAA,CAAAF,SAAA,EAAA2C,QAAA,eACE7C,IAAA,OAAA6C,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1B7C,IAAA,UACE8C,IAAI,CAAC,cAAc,CACnBC,WAAW,CAAC,sBAAsB,CAClClB,KAAK,CAAEb,WAAY,CACnBgC,QAAQ,CAAErB,MAAO,CAClB,CAAC,cACF3B,IAAA,WACEiD,OAAO,CAAEvB,oBAAqB,CAC9BwB,QAAQ,CAAElC,WAAW,CAACe,MAAM,GAAK,CAAC,CAAG,KAAK,CAAG,IAAK,CAAAc,QAAA,CACnD,UAED,CAAQ,CAAC,EACT,CACH,CACA3B,YAAY,eACXlB,IAAA,CAACH,WAAW,EAACyB,WAAW,CAAEA,WAAY,CAACgB,IAAI,CAAElB,aAAc,CAAC,CAC7D,cACDpB,IAAA,QAAK,CAAC,CACLQ,KAAK,eACJJ,KAAA,CAAAF,SAAA,EAAA2C,QAAA,eACE7C,IAAA,CAACF,MAAM,EAACqD,EAAE,CAAC,eAAe,CAACtB,KAAK,CAAEvB,MAAO,CAAC8C,IAAI,CAAE,GAAI,CAACC,OAAO,CAAC,MAAM,CAAE,CAAC,cACtErD,IAAA,QAAK,CAAC,cACNA,IAAA,WACEiD,OAAO,CAAEA,CAAA,GAAM,CACbxC,QAAQ,CAAC,KAAK,CAAC,CACfQ,cAAc,CAAC,EAAE,CAAC,CAClBE,eAAe,CAAC,KAAK,CAAC,CACxB,CAAE,CAAA0B,QAAA,CACH,OAED,CAAQ,CAAC,EACT,CACH,EACD,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}